<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mapa Interactivo de Cali</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <style>
    html, body { margin: 0; height: 100%; font-family: 'Segoe UI', sans-serif; }

    /* Fondo login */
    body {
      background-image: url(https://www.shutterstock.com/image-photo/location-colombia-red-push-pin-260nw-2031231827.jpg);
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* Caja login */
    .login-box {
      padding: 40px;
      border-radius: 12px;
      background: rgba(255,255,255,0.95);
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
      max-width: 400px;
      width: 100%;
    }
    h2 { text-align: center; margin-bottom: 25px; color: #1f2937; }
    label { display: block; margin-bottom: 6px; font-size: 14px; color: #374151; }
    input[type="email"], input[type="password"] {
      width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #cbd5e1;
      margin-bottom: 20px; font-size: 15px; background-color: #f9fafb;
    }
    input[type="submit"] {
      width: 100%; padding: 12px;
      background: linear-gradient(90deg, #3b82f6, #6366f1);
      color: white; border: none; border-radius: 8px;
      font-size: 16px; font-weight: bold; cursor: pointer;
    }
    input[type="submit"]:hover { background: linear-gradient(90deg, #2563eb, #4f46e5); }
    .footer { text-align: center; margin-top: 15px; font-size: 13px; color: #111; }

    /* MAPA */
    #app { display: none; height: 100vh; width: 100%; }
    #map { width: 100%; height: 100%; }
    .panel {
      position: absolute; top: 10px; left: 10px; z-index: 1000;
      background: #fff; padding: 8px; border-radius: 6px; font-size: 14px;
    }
    .panel input,.panel select { width: 180px; padding: 4px; margin-top: 4px; }
    .popup img { width: 100%; border-radius: 6px; margin-bottom: 6px; }
  </style>
</head>
<body>
  <!-- LOGIN -->
  <div class="login-box" id="loginBox">
    <h2>Iniciar Sesión</h2>
    <form id="loginForm">
      <label for="email">Correo electrónico</label>
      <input type="email" id="email" name="email" placeholder="tu@correo.com" required>
      <label for="password">Contraseña</label>
      <input type="password" id="password" name="password" placeholder="Tu contraseña" required minlength="6">
      <input type="submit" value="Entrar">
    </form>
    <div class="footer">¿Olvidaste tu contraseña?</div>
  </div>

  <!-- APP (MAPA) -->
  <div id="app">
    <div id="map"></div>
    <div class="panel">
      <input id="busqueda" placeholder="Buscar lugar...">
      <select id="filtro">
        <option value="todos">Todos</option>
        <option value="histórico">Histórico</option>
        <option value="cultural">Cultural</option>
        <option value="recreativo">Recreativo</option>
        <option value="religioso">Religioso</option>
        <option value="pago">De pago</option>
      </select>
    </div>
  </div>

  
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    
    const loginForm = document.getElementById("loginForm");
    const loginBox = document.getElementById("loginBox");
    const app = document.getElementById("app");

    loginForm.addEventListener("submit", function(e){
      e.preventDefault();
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;

      
      if(email === "admin@cali.com" && password === "123456"){
        loginBox.style.display = "none";
        app.style.display = "block";
        iniciarMapa();
      } else {
        alert("Credenciales incorrectas. Intenta de nuevo.");
      }
    });

    function iniciarMapa(){
      const map = L.map('map', {
        maxBounds: [[3.35, -76.65], [3.55, -76.45]],
        maxBoundsViscosity: 1.0
      }).setView([3.4516, -76.5320], 13);

      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        minZoom: 12, maxZoom: 18
      }).addTo(map);

      const lugares = [
        {nombre:"Iglesia La Ermita",cat:"histórico",coords:[3.4516,-76.5320],
          img:"https://lh3.googleusercontent.com/gps-cs-s/AC9h4nontHKZy3Bey2K4kN5nnkyU6rBUbI7_t8FdQSr3cw0jM1fDJg6UqMi2Jf3wdRykbOnNu3E_wTNdFp4qrIeXqMLUInxtZ0tOfjRwilsldsuQGJoz6C7Q11fymYBb_Oi9xNvIkhKYAw=s680-w680-h510-rw",
          desc:"Iglesia neogótica, ícono de Cali.", info:"Cra. 1, Cali. 7am-8pm"},
        {nombre:"Museo La Tertulia",cat:"cultural",coords:[3.4502,-76.5453],
          img:"https://lh3.googleusercontent.com/p/AF1QipMcHXYg-OVJnSpX7I8Fcy63otr9pJvnA07aoaDe=s680-w680-h510-rw",
          desc:"Museo de arte moderno y centro cultural.", info:"Cl. 5 #1-100. Mar-Dom 10am-6pm"},
        {nombre:"Parque del Perro",cat:"recreativo",coords:[3.4331,-76.5290],
          img:"", desc:"Parque urbano famoso por restaurantes y vida nocturna.", info:"Barrio San Fernando. Abierto 24h"},
        {nombre:"Cristo Rey",cat:"religioso",coords:[3.4359,-76.5648],
          img:"https://www.elespectador.com/resizer/uT2ZxSd82Xujdw4UTfly2tOUoKo=/arc-anglerfish-arc2-prod-elespectador/public/UXO3W2SZMRFUFDL3K7F3DSMFIQ.jpg",
          desc:"Monumento religioso con vista panorámica.", info:"Cerro Cristo Rey. 8am-6pm"},
        {nombre:"Zoológico de Cali",cat:"recreativo",coords:[3.4328,-76.5315],
          img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRzL0ek1MrUCSzVwjnraAEa0iOknaafpfx0HA&s",
          desc:"Uno de los zoológicos más importantes de Colombia.", info:"Cl. 14 #2 Oeste. 9am-4pm"},
        {nombre:"Cerro de las Tres Cruces",cat:"recreativo",coords:[3.4673,-76.5455],
          img:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Monumento_de_las_tres_cruces.jpg/330px-Monumento_de_las_tres_cruces.jpg",
          desc:"Cerro con mirador y rutas de senderismo.", info:"Acceso libre, recomendado en la mañana"},
        {nombre:"Iglesia San Antonio",cat:"histórico",coords:[3.4498,-76.5411],
          img:"https://images.mnstatic.com/4b/9a/4b9a7f657da0b59fbe30ecc81c0830c1.jpg",
          desc:"Iglesia colonial en el tradicional barrio San Antonio.", info:"Barrio San Antonio. 8am-7pm"},
        {nombre:"Bulevar del Río",cat:"cultural",coords:[3.4509,-76.5374],
          img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTq1a02MbPB3eDH1mSeIzRJjmKkV6L-ZpZtAQ&s",
          desc:"Paseo peatonal junto al río Cali, espacio cultural y recreativo.", info:"Centro de Cali. Acceso libre"},
        {nombre:"Plaza de Cayzedo",cat:"histórico",coords:[3.4515,-76.5322],
          img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS1KhzxPZOLy4WC5Q-Y7AyTHMxIbl_ZDFe18A&s",
          desc:"Plaza principal de Cali, corazón histórico de la ciudad.", info:"Centro de Cali. Acceso libre"},
        {nombre:"Teatro Municipal Enrique Buenaventura",cat:"cultural",coords:[3.4521,-76.5350],
          img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTuOcRUkKAjWMlbfUigDH7DxAk5V8zpnEverA&s",
          desc:"Teatro emblemático para eventos artísticos y culturales.", info:"Cl. 7 #4-69, Centro"},
        {nombre:"Museo Arqueológico de Calima",cat:"pago",coords:[3.4500,-76.5360],
          img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT2dv1pQOsatz6EyYMO0T-Mz9Is7thLtl1Ycg&s",
          desc:"Museo que muestra piezas de la cultura prehispánica Calima.", info:"Entrada aprox: $5.000 - $10.000 COP"},
        {nombre:"Museo de Ciencias Naturales",cat:"pago",coords:[3.4525,-76.5400],
          img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTUrGpnd051wm5uCcvKj7fmghVhJsVq22Fi1w&s",
          desc:"Museo con exposiciones de biodiversidad y geología.", info:"Entrada aprox: $5.000 COP"},
        {nombre:"Museo de la Salsa",cat:"pago",coords:[3.4470,-76.5220],
          img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQPD35SWAGpXZynw9xBcR_1nWmcq54-dSKsPA&s",
          desc:"Espacio cultural sobre la historia de la salsa en Cali.", info:"Entrada aprox: $5.000 COP"},
        {nombre:"MUSA Cali (Museo de Arte Contemporáneo)",cat:"pago",coords:[3.4540,-76.5350],
          img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQGatDEaptuVYv-Q0vxPbnByFt6fpp8jVns9A&s",
          desc:"Museo con exposiciones permanentes y temporales de arte contemporáneo.",
          info:"Entrada nacionales: $10.000 COP / extranjeros: $20.000 COP"}
      ];

      const marcadores = [];
      lugares.forEach(l=>{
        const popup = `<div class="popup">
          <img src="${l.img}"><b>${l.nombre}</b><br>
          <i>${l.cat}</i><br>${l.desc}<br>${l.info}
        </div>`;
        const m = L.marker(l.coords).bindPopup(popup).addTo(map);
        m.categoria = l.cat; m.nombre = l.nombre.toLowerCase();
        marcadores.push(m);
      });

      document.getElementById("filtro").onchange = filtrar;
      document.getElementById("busqueda").oninput = filtrar;

      function filtrar(){
        const cat = document.getElementById("filtro").value;
        const texto = document.getElementById("busqueda").value.toLowerCase();
        marcadores.forEach(m=>{
          const visible = (cat==="todos"||m.categoria===cat) && m.nombre.includes(texto);
          if(visible){map.addLayer(m);} else {map.removeLayer(m);}
        });
      }
    }
  </script>
</body>
</html>
